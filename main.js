!function(){"use strict";var e="";const t={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn-disabled",inputErrorClass:"modal__input_type-error",errorClass:"modal__error_visible"},o=(e,o)=>{o.validity.valid?((e,o)=>{const n=o.id+"-error";e.querySelector("#"+n).textContent="",o.classList.remove(t.inputErrorClass)})(e,o):((e,o,n)=>{const r=o.id+"-error";e.querySelector("#"+r).textContent=n,o.classList.add(t.inputErrorClass)})(e,o,o.validationMessage)},n=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},r=(e,o)=>{var r,a;(e=>e.some((e=>!e.validity.valid)))(e)?n(o,t):(a=t,(r=o).disabled=!1,r.classList.remove(a.inactiveButtonClass))};var a=e+"d3610e9c6dce3cb370d8.svg",c=e+"04c411e519a1c6561568.jpg",s=e+"1ecf96fab54a91c898b4.svg",l=e+"40608da7369d39bc1077.svg";const i=document.querySelector("#edit-profile-btn"),d=document.querySelector("#edit-profile-modal"),u=d.querySelector("#edit-profile-close-btn"),m=d.querySelector(".modal__form"),p=document.querySelector("#add-card-modal"),f=document.querySelector(".profile__new-post"),y=p.querySelector("#add-card-close-btn"),v=p.querySelector(".modal__form"),_=p.querySelector(".modal__submit-btn"),g=p.querySelector("#add-card-name-input"),S=p.querySelector("#add-card-link-input"),b=document.querySelector(".profile__name"),q=document.querySelector(".profile__description"),h=d.querySelector("#profile-name-input"),k=d.querySelector("#profile-description-input"),w=d.querySelector(".modal__form"),E=document.querySelector("#card-template"),L=document.querySelector(".cards__list"),x=document.querySelector("#preview-modal"),C=x.querySelector("#prview-close-btn"),z=x.querySelector(".modal__image"),B=x.querySelector(".modal__caption");function j(e){e.classList.add("modal_opened"),e.addEventListener("click",P),document.addEventListener("keydown",I)}function A(e){e.classList.remove("modal_opened"),e.removeEventListener("click",P),document.removeEventListener("keydown",I)}function I(e){if("Escape"===e.key){const e=document.querySelector(".modal_opened");e&&A(e)}}function P(e){e.target.classList.contains("modal_opened")&&A(e.target)}function D(e){const t=E.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__title"),n=t.querySelector(".card__image"),r=t.querySelector(".card__like-btn"),a=t.querySelector(".card__delete-btn");return o.textContent=e.name,n.alt=e.name,n.src=e.link,r.addEventListener("click",(()=>{r.classList.toggle("card__like-btn_liked")})),a.addEventListener("click",(()=>{t.remove()})),n.addEventListener("click",(t=>{t.stopPropagation(),j(x),z.alt=e.name,z.src=e.link,B.textContent=e.name})),t}var M;document.getElementById("headerLogo").src=a,document.getElementById("profileAvatar").src=c,document.getElementById("profilePencil").src=s,document.getElementById("profilePlusSign").src=l,i.addEventListener("click",(()=>{h.value=b.textContent,k.value=q.textContent,resetValidation(m,[h,k]),j(d)})),u.addEventListener("click",(()=>{A(d)})),w.addEventListener("submit",(function(e){e.preventDefault(),b.textContent=h.value,q.textContent=k.value,A(d)})),v.addEventListener("submit",(function(e){e.preventDefault();const o=D({name:g.value,link:S.value});L.prepend(o),e.target.reset(),n(_,t),A(p)})),[{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"A sunny bridge",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"}].forEach((e=>{const t=D(e);L.prepend(t)})),f.addEventListener("click",(e=>{e.stopPropagation(),console.log("click"),j(p)})),y.addEventListener("click",(()=>{A(p)})),C.addEventListener("click",(()=>{A(x)})),M=t,document.querySelectorAll(M.formSelector).forEach((e=>{((e,t)=>{const n=Array.from(e.querySelectorAll(t.inputSelector)),a=e.querySelector(t.submitButtonSelector);r(n,a),n.forEach((t=>{t.addEventListener("input",(function(){o(e,t),r(n,a)}))}))})(e,M)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQ0EsSUFBSUEsRUNEb0IsR0NBakIsTUFBTUMsRUFBVyxDQUNwQkMsYUFBYyxlQUNkQyxjQUFlLGdCQUNmQyxxQkFBc0IscUJBQ3RCQyxvQkFBcUIsNkJBQ3JCQyxnQkFBaUIsMEJBQ2pCQyxXQUFZLHdCQWlCVkMsRUFBcUJBLENBQUNDLEVBQVFDLEtBQzNCQSxFQUFRQyxTQUFTQyxNQVJIQyxFQUFDSixFQUFRQyxLQUM1QixNQUFNSSxFQUFhSixFQUFRSyxHQUFLLFNBQ2JOLEVBQU9PLGNBQWMsSUFBTUYsR0FDbkNHLFlBQWMsR0FDekJQLEVBQVFRLFVBQVVDLE9BQU9sQixFQUFTSyxnQkFBZ0IsRUFPOUNPLENBQWVKLEVBQVFDLEdBbEJSVSxFQUFDWCxFQUFRQyxFQUFTVyxLQUNyQyxNQUFNUCxFQUFhSixFQUFRSyxHQUFLLFNBQ2JOLEVBQU9PLGNBQWMsSUFBTUYsR0FDbkNHLFlBQWNJLEVBQ3pCWCxFQUFRUSxVQUFVSSxJQUFJckIsRUFBU0ssZ0JBQWdCLEVBWTNDYyxDQUFlWCxFQUFRQyxFQUFTQSxFQUFRYSxrQkFHNUMsRUFpQlNDLEVBQWdCQSxDQUFDQyxFQUFRQyxLQUNsQ0QsRUFBT0UsVUFBVyxFQUNsQkYsRUFBT1AsVUFBVUksSUFBSUksRUFBT3JCLG9CQUFvQixFQVE5Q3VCLEVBQW9CQSxDQUFDQyxFQUFXQyxLQUxqQkMsSUFBQ04sRUFBUUMsRUFuQkxHLElBQ2RBLEVBQVVHLE1BQU1DLElBQ1hBLEVBQU10QixTQUFTQyxRQXVCdkJzQixDQUFnQkwsR0FDaEJMLEVBQWNNLEVBQVU3QixJQVBGeUIsRUFTQ3pCLEdBVFR3QixFQVNESyxHQVJWSCxVQUFXLEVBQ2xCRixFQUFPUCxVQUFVQyxPQUFPTyxFQUFPckIscUJBUS9CLEUsZ0lDcERKLE1BK0JNOEIsRUFBaUJDLFNBQVNwQixjQUFjLHFCQUN4Q3FCLEVBQW1CRCxTQUFTcEIsY0FBYyx1QkFDMUNzQixFQUFrQkQsRUFBaUJyQixjQUFjLDJCQUNqRHVCLEVBQVlGLEVBQWlCckIsY0FBYyxnQkFFM0N3QixFQUFlSixTQUFTcEIsY0FBYyxtQkFDdEN5QixFQUFpQkwsU0FBU3BCLGNBQWMsc0JBQ3hDMEIsRUFBa0JGLEVBQWF4QixjQUFjLHVCQUM3QzJCLEVBQVdILEVBQWF4QixjQUFjLGdCQUN0QzRCLEVBQW1CSixFQUFheEIsY0FBYyxzQkFDOUM2QixFQUFnQkwsRUFBYXhCLGNBQWMsd0JBQzNDOEIsRUFBZ0JOLEVBQWF4QixjQUFjLHdCQUUzQytCLEVBQWNYLFNBQVNwQixjQUFjLGtCQUNyQ2dDLEVBQXFCWixTQUFTcEIsY0FBYyx5QkFDNUNpQyxFQUFrQlosRUFBaUJyQixjQUFjLHVCQUNqRGtDLEVBQXlCYixFQUFpQnJCLGNBQWMsOEJBRXhEbUMsRUFBa0JkLEVBQWlCckIsY0FBYyxnQkFFakRvQyxFQUFlaEIsU0FBU3BCLGNBQWMsa0JBQ3RDcUMsRUFBWWpCLFNBQVNwQixjQUFjLGdCQUVuQ3NDLEVBQWVsQixTQUFTcEIsY0FBYyxrQkFDdEN1QyxFQUF1QkQsRUFBYXRDLGNBQWMscUJBQ2xEd0MsRUFBYUYsRUFBYXRDLGNBQWMsaUJBQ3hDeUMsRUFBYUgsRUFBYXRDLGNBQWMsbUJBWTlDLFNBQVMwQyxFQUFVQyxHQUNmQSxFQUFNekMsVUFBVUksSUFBSSxnQkFDcEJxQyxFQUFNQyxpQkFBaUIsUUFBU0MsR0FDaEN6QixTQUFTd0IsaUJBQWlCLFVBQVdFLEVBQ3pDLENBRUEsU0FBU0MsRUFBV0osR0FDaEJBLEVBQU16QyxVQUFVQyxPQUFPLGdCQUN2QndDLEVBQU1LLG9CQUFvQixRQUFTSCxHQUNuQ3pCLFNBQVM0QixvQkFBb0IsVUFBV0YsRUFDNUMsQ0FFQSxTQUFTQSxFQUFhRyxHQUNsQixHQUFrQixXQUFkQSxFQUFNQyxJQUFrQixDQUN4QixNQUFNQyxFQUFjL0IsU0FBU3BCLGNBQWMsaUJBQ3ZDbUQsR0FDQUosRUFBV0ksRUFFbkIsQ0FDSixDQUVBLFNBQVNOLEVBQWNJLEdBQ2ZBLEVBQU1HLE9BQU9sRCxVQUFVbUQsU0FBUyxpQkFDaENOLEVBQVdFLEVBQU1HLE9BRXpCLENBbUJBLFNBQVNFLEVBQWVDLEdBQ3BCLE1BQU1DLEVBQWNwQixFQUFhcUIsUUFBUXpELGNBQWMsU0FBUzBELFdBQVUsR0FDcEVDLEVBQWtCSCxFQUFZeEQsY0FBYyxnQkFDNUM0RCxFQUFhSixFQUFZeEQsY0FBYyxnQkFDdkM2RCxFQUFjTCxFQUFZeEQsY0FBYyxtQkFDeEM4RCxFQUFnQk4sRUFBWXhELGNBQWMscUJBdUJoRCxPQXBCQTJELEVBQWdCMUQsWUFBY3NELEVBQUtRLEtBQ25DSCxFQUFXSSxJQUFNVCxFQUFLUSxLQUN0QkgsRUFBV0ssSUFBTVYsRUFBS1csS0FFdEJMLEVBQVlqQixpQkFBaUIsU0FBUyxLQUNsQ2lCLEVBQVkzRCxVQUFVaUUsT0FBTyx1QkFBdUIsSUFHeERMLEVBQWNsQixpQkFBaUIsU0FBUyxLQUNwQ1ksRUFBWXJELFFBQVEsSUFHeEJ5RCxFQUFXaEIsaUJBQWlCLFNBQVV3QixJQUNsQ0EsRUFBSUMsa0JBQ0ozQixFQUFVSixHQUNWRSxFQUFXd0IsSUFBTVQsRUFBS1EsS0FDdEJ2QixFQUFXeUIsSUFBTVYsRUFBS1csS0FDdEJ6QixFQUFXeEMsWUFBY3NELEVBQUtRLElBQUksSUFHL0JQLENBQ1gsQ0R6RWlDOUMsTUNUZlUsU0FBU2tELGVBQWUsY0FDaENMLElBQU1NLEVBQ0VuRCxTQUFTa0QsZUFBZSxpQkFDaENMLElBQU1PLEVBQ0VwRCxTQUFTa0QsZUFBZSxpQkFDaENMLElBQU1RLEVBQ0FyRCxTQUFTa0QsZUFBZSxtQkFDaENMLElBQU1TLEVBK0VkdkQsRUFBZXlCLGlCQUFpQixTQUFTLEtBQ3JDWCxFQUFnQjBDLE1BQVE1QyxFQUFZOUIsWUFDcENpQyxFQUF1QnlDLE1BQVEzQyxFQUFtQi9CLFlBQ2xEMkUsZ0JBQWdCckQsRUFBVyxDQUFDVSxFQUFpQkMsSUFDN0NRLEVBQVVyQixFQUFpQixJQUcvQkMsRUFBZ0JzQixpQkFBaUIsU0FBUyxLQUN0Q0csRUFBVzFCLEVBQWlCLElBR2hDYyxFQUFnQlMsaUJBQWlCLFVBN0RqQyxTQUE4QndCLEdBQzFCQSxFQUFJUyxpQkFDSjlDLEVBQVk5QixZQUFjZ0MsRUFBZ0IwQyxNQUMxQzNDLEVBQW1CL0IsWUFBY2lDLEVBQXVCeUMsTUFDeEQ1QixFQUFXMUIsRUFDZixJQXlEQU0sRUFBU2lCLGlCQUFpQixVQXZEMUIsU0FBNkJ3QixHQUN6QkEsRUFBSVMsaUJBQ0osTUFDTUMsRUFBU3hCLEVBREssQ0FBRVMsS0FBTWxDLEVBQWM4QyxNQUFPVCxLQUFNcEMsRUFBYzZDLFFBRXJFdEMsRUFBVTBDLFFBQVFELEdBQ2xCVixFQUFJaEIsT0FBTzRCLFFBQ1h4RSxFQUFjb0IsRUFBa0IzQyxHQUNoQzhELEVBQVd2QixFQUNmLElBL0dxQixDQUNqQixDQUNJdUMsS0FBTSxjQUNORyxLQUFNLDJIQUVWLENBQ0lILEtBQU0scUJBQ05HLEtBQU0sbUhBRVYsQ0FDSUgsS0FBTSxrQkFDTkcsS0FBTSx5SEFFVixDQUNJSCxLQUFNLDREQUNORyxLQUFNLDJIQUVWLENBQ0lILEtBQU0sNEJBQ05HLEtBQU0sMEhBRVYsQ0FDSUgsS0FBTSxpQkFDTkcsS0FBTSwySEFFVixDQUNJSCxLQUFNLGlCQUNORyxLQUFNLCtIQXFJRGUsU0FBU0MsSUFDbEIsTUFBTTFCLEVBQWNGLEVBQWU0QixHQUNuQzdDLEVBQVUwQyxRQUFRdkIsRUFBWSxJQUdsQy9CLEVBQWVtQixpQkFBaUIsU0FBVXdCLElBQ3RDQSxFQUFJQyxrQkFDSmMsUUFBUUMsSUFBSSxTQUNaMUMsRUFBVWxCLEVBQWEsSUFHM0JFLEVBQWdCa0IsaUJBQWlCLFNBQVMsS0FDdENHLEVBQVd2QixFQUFhLElBRzVCZSxFQUFxQkssaUJBQWlCLFNBQVMsS0FDM0NHLEVBQVdULEVBQWEsSUQzR0s1QixFQytHaEJ6QixFRDlHSW1DLFNBQVNpRSxpQkFBaUIzRSxFQUFPeEIsY0FDekMrRixTQUFTeEYsSUFoQkk2RixFQUFDN0YsRUFBUWlCLEtBQy9CLE1BQU1HLEVBQVkwRSxNQUFNQyxLQUFLL0YsRUFBTzRGLGlCQUFpQjNFLEVBQU92QixnQkFDdERzRyxFQUFnQmhHLEVBQU9PLGNBQWNVLEVBQU90QixzQkFDbER3QixFQUFrQkMsRUFBVzRFLEdBRTdCNUUsRUFBVW9FLFNBQVNTLElBQ2ZBLEVBQWE5QyxpQkFBaUIsU0FBUyxXQUNuQ3BELEVBQW1CQyxFQUFRaUcsR0FDM0I5RSxFQUFrQkMsRUFBVzRFLEVBQ2pDLEdBQUUsR0FDSixFQU9FSCxDQUFrQjdGLEVBQVFpQixFQUFPLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ0blwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ0bi1kaXNhYmxlZFwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlLWVycm9yXCIsXHJcbiAgICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCJcclxufTtcclxuXHJcbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgZXJyb3JNc2cpID0+IHtcclxuICAgIGNvbnN0IGVycm9yTXNnSUQgPSBpbnB1dEVsLmlkICsgXCItZXJyb3JcIjtcclxuICAgIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihcIiNcIiArIGVycm9yTXNnSUQpO1xyXG4gICAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IGVycm9yTXNnO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwpID0+IHtcclxuICAgIGNvbnN0IGVycm9yTXNnSUQgPSBpbnB1dEVsLmlkICsgXCItZXJyb3JcIjtcclxuICAgIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihcIiNcIiArIGVycm9yTXNnSUQpO1xyXG4gICAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWwsIGlucHV0RWwpID0+IHtcclxuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHNob3dJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG5cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWwsIGlucHV0TGlzdCkgPT4ge1xyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b24sIGNvbmZpZykgPT4ge1xyXG4gICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxufTtcclxuXHJcbmNvbnN0IGVuYWJsZUJ1dHRvbiA9IChidXR0b24sIGNvbmZpZykgPT4ge1xyXG4gICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsKSA9PiB7XHJcbiAgICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsLCBzZXR0aW5ncyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVuYWJsZUJ1dHRvbihidXR0b25FbCwgc2V0dGluZ3MpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsLCBjb25maWcpID0+IHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWwucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuXHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWwsIGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICAgIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcclxuICAgIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xyXG4gICAgICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgY29uZmlnKTtcclxuICAgIH0pO1xyXG5cclxufTtcclxuXHJcblxyXG4iLCJpbXBvcnQgeyBlbmFibGVWYWxpZGF0aW9uLCBzZXR0aW5ncywgZGlzYWJsZUJ1dHRvbiB9IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIlxyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiXHJcbmltcG9ydCBoZWFkZXJTcmMgZnJvbSBcIi4uL2ltYWdlcy9sb2dvLnN2Z1wiXHJcbmltcG9ydCBhdmF0YXJTcmMgZnJvbSBcIi4uL2ltYWdlcy9hdmF0YXIuanBnXCJcclxuaW1wb3J0IHBlbmNpbFNyYyBmcm9tIFwiLi4vaW1hZ2VzL3BlbmNpbC5zdmdcIlxyXG5pbXBvcnQgcGx1c1NyYyBmcm9tIFwiLi4vaW1hZ2VzL3BsdXMtc2lnbi5zdmdcIlxyXG5cclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIlZhbCBUaG9yZW5zXCIsXHJcbiAgICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzEtcGhvdG8tYnktbW9yaXR6LWZlbGRtYW5uLWZyb20tcGV4ZWxzLmpwZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiUmVzdGF1cmFudCB0ZXJyYWNlXCIsXHJcbiAgICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzItcGhvdG8tYnktY2VpbGluZS1mcm9tLXBleGVscy5qcGdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIkFuIG91dGRvb3IgY2FmZVwiLFxyXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy8zLXBob3RvLWJ5LXR1YmFudXItZG9nYW4tZnJvbS1wZXhlbHMuanBnXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJBIHZlcnkgbG9uZyBicmlkZ2UsIG92ZXIgdGhlIGZvcmVzdCBhbmQgdGhyb3VnaCB0aGUgdHJlZXNcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNC1waG90by1ieS1tYXVyaWNlLWxhc2NoZXQtZnJvbS1wZXhlbHMuanBnXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJUdW5uZWwgd2l0aCBtb3JuaW5nIGxpZ2h0XCIsXHJcbiAgICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzUtcGhvdG8tYnktdmFuLWFuaC1uZ3V5ZW4tZnJvbS1wZXhlbHMuanBnXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJNb3VudGFpbiBob3VzZVwiLFxyXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy82LXBob3RvLWJ5LW1vcml0ei1mZWxkbWFubi1mcm9tLXBleGVscy5qcGdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIkEgc3VubnkgYnJpZGdlXCIsXHJcbiAgICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzctcGhvdG8tYnktZ3JpZmZpbi13b29sZHJpZGdlLWZyb20tcGV4ZWxzLmpwZ1wiXHJcbiAgICB9LFxyXG5dO1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1idG5cIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiKTtcclxuY29uc3QgcHJvZmlsZUNsb3NlQnRuID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1jbG9zZS1idG5cIik7XHJcbmNvbnN0IGVkaXRNb2RhbCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuXHJcbmNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbW9kYWxcIik7XHJcbmNvbnN0IGFkZENhcmROZXdQb3N0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uZXctcG9zdFwiKTtcclxuY29uc3QgYWRkQ2FyZENsb3NlQnRuID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtY2xvc2UtYnRuXCIpO1xyXG5jb25zdCBjYXJkRm9ybSA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5jb25zdCBjYXJkU3VibWl0QnV0dG9uID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XHJcbmNvbnN0IGNhcmROYW1lSW5wdXQgPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1uYW1lLWlucHV0XCIpO1xyXG5jb25zdCBjYXJkTGlua0lucHV0ID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbGluay1pbnB1dFwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZU5hbWUgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1uYW1lLWlucHV0XCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZURlc2NyaXB0aW9uID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIik7XHJcblxyXG5jb25zdCBlZGl0Rm9ybUVsZW1lbnQgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcblxyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XHJcbmNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XHJcblxyXG5jb25zdCBwcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XHJcbmNvbnN0IHByZXZpZXdNb2RhbENsb3NlQnRuID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjcHJ2aWV3LWNsb3NlLWJ0blwiKTtcclxuY29uc3QgcHJldmlld0ltZyA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuY29uc3QgcHJldmlld0NhcCA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xyXG5cclxuLy9pbWFnZSBzcmMgZWxlbWVudHNcclxuY29uc3QgaGVhZGVySW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWFkZXJMb2dvXCIpO1xyXG5oZWFkZXJJbWcuc3JjID0gaGVhZGVyU3JjO1xyXG5jb25zdCBhdmF0ZXJJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZpbGVBdmF0YXJcIik7XHJcbmF2YXRlckltZy5zcmMgPSBhdmF0YXJTcmM7XHJcbmNvbnN0IHBlbmNpbEltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZVBlbmNpbFwiKTtcclxucGVuY2lsSW1nLnNyYyA9IHBlbmNpbFNyYztcclxuY29uc3QgcGx1c0ltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZVBsdXNTaWduXCIpO1xyXG5wbHVzSW1nLnNyYyA9IHBsdXNTcmM7XHJcblxyXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcclxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlT3ZlcmxheSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XHJcbiAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU92ZXJsYXkpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRXNjYXBlKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgY29uc3QgbW9kYWxPcGVuZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX29wZW5lZFwiKTtcclxuICAgICAgICBpZiAobW9kYWxPcGVuZWQpIHtcclxuICAgICAgICAgICAgY2xvc2VNb2RhbChtb2RhbE9wZW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVPdmVybGF5KGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSkge1xyXG4gICAgICAgIGNsb3NlTW9kYWwoZXZlbnQudGFyZ2V0KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRWRpdEZvcm1TdWJtaXQoZXZ0KSB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZWRpdFByb2ZpbGVOYW1lLnZhbHVlO1xyXG4gICAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZWRpdFByb2ZpbGVEZXNjcmlwdGlvbi52YWx1ZTtcclxuICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoZXZ0KSB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0geyBuYW1lOiBjYXJkTmFtZUlucHV0LnZhbHVlLCBsaW5rOiBjYXJkTGlua0lucHV0LnZhbHVlIH07XHJcbiAgICBjb25zdCBjYXJkRWwgPSBnZXRDYXJkRWxlbWVudChpbnB1dFZhbHVlcyk7XHJcbiAgICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWwpO1xyXG4gICAgZXZ0LnRhcmdldC5yZXNldCgpO1xyXG4gICAgZGlzYWJsZUJ1dHRvbihjYXJkU3VibWl0QnV0dG9uLCBzZXR0aW5ncyk7XHJcbiAgICBjbG9zZU1vZGFsKGFkZENhcmRNb2RhbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIGNvbnN0IGNhcmROYW1lRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcbiAgICBjb25zdCBpbWdFbGVtZW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIGNvbnN0IGNhcmRMaWtlQnRuID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKTtcclxuICAgIGNvbnN0IGNhcmREZWxldGVCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XHJcblxyXG5cclxuICAgIGNhcmROYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIGltZ0VsZW1lbnQuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgaW1nRWxlbWVudC5zcmMgPSBkYXRhLmxpbms7XHJcblxyXG4gICAgY2FyZExpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjYXJkTGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYXJkRGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpbWdFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIG9wZW5Nb2RhbChwcmV2aWV3TW9kYWwpO1xyXG4gICAgICAgIHByZXZpZXdJbWcuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHByZXZpZXdJbWcuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgICAgIHByZXZpZXdDYXAudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcblxyXG5cclxucHJvZmlsZUVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGVkaXRQcm9maWxlTmFtZS52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xyXG4gICAgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbi52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcclxuICAgIHJlc2V0VmFsaWRhdGlvbihlZGl0TW9kYWwsIFtlZGl0UHJvZmlsZU5hbWUsIGVkaXRQcm9maWxlRGVzY3JpcHRpb25dKTtcclxuICAgIG9wZW5Nb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcclxufSk7XHJcblxyXG5wcm9maWxlQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbn0pO1xyXG5cclxuZWRpdEZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRWRpdEZvcm1TdWJtaXQpO1xyXG5jYXJkRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xyXG5cclxuaW5pdGlhbENhcmRzLmZvckVhY2goKGl0ZW0pID0+IHsgLy8gZmlyc3QgcGFyZW0gaXMgdGhlIG9iamVjdCwgc2Vjb25kIGNhbiByZWZlcmVuY2UgdGhlIGluZGV4IG9mIHRoYXQgb2JqZWN0IGFuZCB0aGlyZCBwYXJlbSByZWZlcmVuY2VzIHRoZSBpbnRpYWwgYXJyYXlcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoaXRlbSk7XHJcbiAgICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbn0pO1xyXG5cclxuYWRkQ2FyZE5ld1Bvc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGNvbnNvbGUubG9nKFwiY2xpY2tcIik7XHJcbiAgICBvcGVuTW9kYWwoYWRkQ2FyZE1vZGFsKTtcclxufSk7XHJcblxyXG5hZGRDYXJkQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNsb3NlTW9kYWwoYWRkQ2FyZE1vZGFsKTtcclxufSk7XHJcblxyXG5wcmV2aWV3TW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY2xvc2VNb2RhbChwcmV2aWV3TW9kYWwpO1xyXG59KTtcclxuXHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiY2hlY2tJbnB1dFZhbGlkaXR5IiwiZm9ybUVsIiwiaW5wdXRFbCIsInZhbGlkaXR5IiwidmFsaWQiLCJoaWRlSW5wdXRFcnJvciIsImVycm9yTXNnSUQiLCJpZCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInNob3dJbnB1dEVycm9yIiwiZXJyb3JNc2ciLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImRpc2FibGVCdXR0b24iLCJidXR0b24iLCJjb25maWciLCJkaXNhYmxlZCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWwiLCJlbmFibGVCdXR0b24iLCJzb21lIiwiaW5wdXQiLCJoYXNJbnZhbGlkSW5wdXQiLCJwcm9maWxlRWRpdEJ0biIsImRvY3VtZW50IiwiZWRpdFByb2ZpbGVNb2RhbCIsInByb2ZpbGVDbG9zZUJ0biIsImVkaXRNb2RhbCIsImFkZENhcmRNb2RhbCIsImFkZENhcmROZXdQb3N0IiwiYWRkQ2FyZENsb3NlQnRuIiwiY2FyZEZvcm0iLCJjYXJkU3VibWl0QnV0dG9uIiwiY2FyZE5hbWVJbnB1dCIsImNhcmRMaW5rSW5wdXQiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsImVkaXRQcm9maWxlTmFtZSIsImVkaXRQcm9maWxlRGVzY3JpcHRpb24iLCJlZGl0Rm9ybUVsZW1lbnQiLCJjYXJkVGVtcGxhdGUiLCJjYXJkc0xpc3QiLCJwcmV2aWV3TW9kYWwiLCJwcmV2aWV3TW9kYWxDbG9zZUJ0biIsInByZXZpZXdJbWciLCJwcmV2aWV3Q2FwIiwib3Blbk1vZGFsIiwibW9kYWwiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlT3ZlcmxheSIsImhhbmRsZUVzY2FwZSIsImNsb3NlTW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJtb2RhbE9wZW5lZCIsInRhcmdldCIsImNvbnRhaW5zIiwiZ2V0Q2FyZEVsZW1lbnQiLCJkYXRhIiwiY2FyZEVsZW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZE5hbWVFbGVtZW50IiwiaW1nRWxlbWVudCIsImNhcmRMaWtlQnRuIiwiY2FyZERlbGV0ZUJ0biIsIm5hbWUiLCJhbHQiLCJzcmMiLCJsaW5rIiwidG9nZ2xlIiwiZXZ0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJoZWFkZXJTcmMiLCJhdmF0YXJTcmMiLCJwZW5jaWxTcmMiLCJwbHVzU3JjIiwidmFsdWUiLCJyZXNldFZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImNhcmRFbCIsInByZXBlbmQiLCJyZXNldCIsImZvckVhY2giLCJpdGVtIiwiY29uc29sZSIsImxvZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImJ1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiXSwic291cmNlUm9vdCI6IiJ9